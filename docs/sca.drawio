<mxfile host="65bd71144e">
    <diagram name="Dependency Workflow Flow" id="simple-flow">
        <mxGraphModel dx="1181" dy="733" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="light-dark(#000000, #121212)" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="_sca.yml" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="175" y="30" width="500" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="100" width="690" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="step1-number" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#1976D2;strokeColor=#01579B;fontColor=#FFFFFF;fontSize=20;fontStyle=1;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="120" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step1-title" value="Your Repository Calls the Reusable Workflow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="120" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="step1-content" value="File: .github/workflows/workflow.yml&lt;br&gt;&lt;br&gt;uses: ministryofjustice/devsecops-actions/.github/workflows/_sca.yml@v1.0.0" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;" parent="1" vertex="1">
                    <mxGeometry x="150" y="155" width="600" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="arrow1" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#1976D2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;align=center;verticalAlign=middle;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="424.5" y="220" as="sourcePoint"/>
                        <mxPoint x="424.5" y="260" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="step2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="260" width="690" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="step2-number" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#FF9800;strokeColor=#E65100;fontColor=#FFFFFF;fontSize=20;fontStyle=1;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="280" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step2-title" value="_sca.yml Workflow is Triggered" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="280" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="step2-content" value="Receives inputs: renovate-version (optional), dependency-review-config-file (optional)&lt;br&gt;Receives secrets: GITHUB_TOKEN" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="150" y="315" width="600" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="arrow2" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#FF9800;exitX=0.5;exitY=1;exitDx=0;exitDy=0;align=center;verticalAlign=middle;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="424.5" y="360" as="sourcePoint"/>
                        <mxPoint x="424.5" y="400" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="step3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="400" width="690" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="step3-number" value="3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#9C27B0;strokeColor=#4A148C;fontColor=#FFFFFF;fontSize=20;fontStyle=1;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="420" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step3-title" value="Job 1: Setup ðŸ”§" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="420" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="step3-content" value="âœ“ Configure environment&lt;br&gt;âœ“ Set timezone from repository variables" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="150" y="450" width="600" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="arrow3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#9C27B0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;align=center;verticalAlign=middle;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="424.5" y="500" as="sourcePoint"/>
                        <mxPoint x="424.5" y="540" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="step4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#1B5E20;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="540" width="690" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="step4-number" value="4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#4CAF50;strokeColor=#1B5E20;fontColor=#FFFFFF;fontSize=20;fontStyle=1;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="560" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step4-title" value="Job 2: Dependencies âš¡" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="560" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="step4-content" value="â†’ Checkout caller&#39;s repository&lt;br&gt;â†’ Setup Node.js and install dependencies (with --ignore-scripts for security)&lt;br&gt;â†’ Run Dependency Review Action (with optional custom config)&lt;br&gt;â†’ Run Renovate Bot (auto-discover and update dependencies)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="150" y="590" width="600" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="arrow4" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#4CAF50;exitX=0.5;exitY=1;exitDx=0;exitDy=0;align=center;verticalAlign=middle;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="424.5" y="670" as="sourcePoint"/>
                        <mxPoint x="424.5" y="710" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="step5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#B71C1C;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="710" width="690" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="step5-number" value="5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontSize=20;fontStyle=1;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="730" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="step5-title" value="Results &amp;amp; Outputs" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="730" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="step5-content" value="âœ… Security scan results posted as per the configuration file&lt;br&gt;âœ… Dependency update PRs created automatically&lt;br&gt;âœ… Security issues raised for vulnerabilities found" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="150" y="760" width="600" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="info-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="80" y="870" width="690" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="info-icon" value="â„¹ï¸" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#FBC02D;strokeColor=#F57F17;fontSize=24;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="100" y="890" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="info-title" value="Key Points to Remember" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="890" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="info-content" value="â€¢ Caller must provide all required permissions (contents, pull-requests, issues, security-events)&lt;br&gt;â€¢ Pin to a release version for latest or @sha-commit for stable version" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="150" y="910" width="600" height="50" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>